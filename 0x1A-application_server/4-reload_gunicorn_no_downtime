#!/usr/bin/env bash
# This script attempts to reload gunicorn without application downtime

SERVICE_NAME="gunicorn.service"

# Function to gracefully reload Gunicorn
reload_gunicorn() {
	echo "Reloading Gunicorn service gracefully..."
	systemctl reload "$SERVICE_NAME"
}

# Check if the service is running
if systemctl is-active --quiet "$SERVICE_NAME"; then
	reload_gunicorn
else
	echo "Gunicorn service is not running. Starting the service..."
	systemctl start "$SERVICE_NAME"
fi
